# Extra env variables
# env = MY_GLOBAL_ENV,setting

# Cursor
env = HYPRCURSOR_THEME, hypr_Bitata-Modern-Classic
env = HYPRCURSOR_SIZE, 24

# ============================================================================
# NVIDIA Multi-GPU Configuration
# ============================================================================
# MACHINE: Alienware m15 R6 (hybrid graphics: NVIDIA RTX 3070 + Intel UHD)
# PURPOSE: Fix 144Hz external monitor frame rate issues on hybrid graphics laptops
#
# PROBLEM SOLVED:
# - External monitor (HDMI-A-1) was stuck at 60-70 FPS despite being set to 144Hz
# - Root cause: Hybrid graphics bottleneck where frames copy from NVIDIA â†’ Intel GPU
# - Solution: Prioritize NVIDIA GPU (card1) as primary via AQ_DRM_DEVICES
#
# DESKTOP USERS WITHOUT HYBRID GRAPHICS:
# - These variables should be harmless if you don't have NVIDIA hybrid graphics
# - If they cause issues on your desktop setup, comment out this entire section
# - Test on desktop first, then decide if you need a separate config
#
# VARIABLES EXPLAINED:
# - AQ_DRM_DEVICES: Set GPU priority (NVIDIA card1 primary, Intel card2 secondary)
#   This ensures HDMI-A-1 (connected to NVIDIA) renders directly without Intel copy
# - AQ_MGPU_NO_EXPLICIT: Disable explicit sync (workaround for NVIDIA hybrid issues)
# - AQ_MGPU_POWER_SAVE: Disable power saving for full performance
# - __GL_MaxFramesAllowed: Remove OpenGL frame buffering limit for high refresh
# ============================================================================

# Force NVIDIA backend for Wayland/OpenGL/Vulkan
env = GBM_BACKEND,nvidia-drm
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = LIBVA_DRIVER_NAME,nvidia

# NVIDIA VRR/G-Sync support (for monitors that support adaptive sync)
env = __GL_GSYNC_ALLOWED,1
env = __GL_VRR_ALLOWED,1

# Multi-GPU: Set GPU priority (NVIDIA card1 primary, Intel card2 secondary)
# This ensures HDMI-A-1 (connected to NVIDIA) renders directly without copying through Intel
env = AQ_DRM_DEVICES,/dev/dri/card1:/dev/dri/card2

# Multi-GPU: Disable explicit sync (workaround for NVIDIA hybrid graphics issues)
env = AQ_MGPU_NO_EXPLICIT,1

# Multi-GPU: Disable power saving to ensure full performance on external monitor
env = AQ_MGPU_POWER_SAVE,0

# NVIDIA: Remove frame buffering limit for high refresh rate support
env = __GL_MaxFramesAllowed,1
